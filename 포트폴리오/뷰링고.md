# 뷰링고

## 개요
- 자막을 사람이 생성하는 방식에서 STT로 초벌 자막을 만들고, 그것을 쉽고 빠르게 수정할 수 있는 웹 기반 자막 편집 서비스

### 트러블슈팅
- #### 화면 렌더링 속도 저하 현상 수정
    - ##### 원인
        1. 영상(음성)이 길어질수록 음성 표시구간을 나타내는 canvas 객체의 갯수와 크기가 증가하여 브라우저에서 버벅거림
        2. 웹 오디오를 사용해서 오디오를 디코딩하면 대략 15분당 1.5초정도 TTI발생
    - ##### 수정
        1. 웹 오디오로 디코딩 하지 않고, C++ 라이브러리를 사용해서 파형데이터를 미리 추출하고, 이 데이터를 디코딩
        2. 보이지 않는 canvas를 렌더링 하지 않기 위해 음성을 15분으로 쪼갠 후, 음성이 15분 근처로 가면 다음 영상도 불러오는 방식으로 변경
        3. 예를 들어 현재 시간이 14분 30초면 15분~30분 음성데이터를 불러와서 pre-render 함.
        4. 만약 32분의 음성데이터가 재생되면 이전/현재에 해당하는 15분~30분, 30분~45분 파형을 렌더링함.
    - ##### 결과
        - 이 방법으로 2시간의 길이를 가진 영상 재생 시 화면이 12초정도 렌더링 차단 되던 현상을 최대 1.5초 이내로 줄임

- #### 클라우드 스토리지 비용 절감
    - ##### 원인
        1. AWS 트래픽 과금 비용이 높음
    - ##### 수정
        1. 트래픽 비용이 과금되지 않는 클라우드 스토리지 탐색
        2. 클라우드 플레어 R2로 결정 후 마이그레이션
        3. 서비스 이전 후 테스트 진행 (인력으로 테스트) - nGinder의 존재를 몰랐다.
    - ##### 결과
        1. 비용을 월 7,328,000원에서 44,668원으로 99.4% 절감